{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <title>{% block title %}Social Network{% endblock %}</title>

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
        
        <!-- Bootstrap Icons -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
        
        <!-- Custom CSS -->
        <link href="{% static 'network/styles.css' %}" rel="stylesheet">
        
        {% block script %}{% endblock %}
        {% block username %}{% endblock %}
    </head>
    <body>
        <div class="container-fluid">
            <div class="row">
                <!-- Sidebar Navigation -->
                <nav class="col-md-3 col-lg-2 d-none d-md-block bg-light sidebar vh-100">
                    <div class="d-flex flex-column align-items-start p-3">
                        <a href="{% url 'index' %}" class="navbar-brand mb-4">
                            <i class="bi bi-twitter text-primary"></i> <strong>Network</strong>
                        </a>
                        <ul class="nav flex-column w-100">
                            {% if user.is_authenticated %}
                                <li class="nav-item mb-2">
                                    <a class="nav-link text-dark" href="{% url 'profile' user.username %}">
                                        <i class="bi bi-person-circle"></i> {{ user.username }}
                                    </a>
                                </li>
                                <li class="nav-item mb-2">
                                    <a class="nav-link text-dark" href="{% url 'index' %}">
                                        <i class="bi bi-house"></i> All Posts
                                    </a>
                                </li>
                                <li class="nav-item mb-2">
                                    <a class="nav-link text-dark" href="{% url 'logout' %}">
                                        <i class="bi bi-box-arrow-right"></i> Log Out
                                    </a>
                                </li>
                            {% else %}
                                <li class="nav-item mb-2">
                                    <a class="nav-link text-dark" href="{% url 'login' %}">
                                        <i class="bi bi-box-arrow-in-right"></i> Log In
                                    </a>
                                </li>
                                <li class="nav-item mb-2">
                                    <a class="nav-link text-dark" href="{% url 'register' %}">
                                        <i class="bi bi-person-plus"></i> Register
                                    </a>
                                </li>
                            {% endif %}
                            <li class="nav-item mb-2">
                                <a class="nav-link text-dark" href="{% url 'following' %}">
                                        <i class="bi bi-people"></i> Following
                                    </a>
                            </li>
                        </ul>
                    </div>
                </nav>

                <!-- Main Content -->
                <main class="col-md-9 col-lg-10 ms-sm-auto px-12">
                    {% block body %}{% endblock %}
                </main>
            </div>
        </div>

        <!-- Bootstrap JS Bundle -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>
